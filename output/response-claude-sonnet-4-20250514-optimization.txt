Duration: 18.159 seconds.
Output:
ä»¥ä¸‹æ˜¯ä¼˜åŒ–åçš„ä»£ç åŠè¯¦ç»†è¯´æ˜ï¼š

```java
public List<Manager> getManagersByLevel(int level) {
    // è¾“å…¥éªŒè¯ - å®‰å…¨æ€§æå‡
    if (level < 1 || level > 10) { // å‡è®¾levelèŒƒå›´æ˜¯1-10
        throw new IllegalArgumentException("Invalid level: " + level);
    }
    
    // ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ - é˜²æ­¢SQLæ³¨å…¥
    String sql = "SELECT id, name, salary, level, department FROM employee WHERE level = ?";
    List<Manager> managers = new ArrayList<>();
    
    // ä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºè‡ªåŠ¨å…³é—­
    try (Connection connection = this.getConnection();
         PreparedStatement preparedStatement = connection.prepareStatement(sql)) {
        
        preparedStatement.setInt(1, level);
        
        try (ResultSet resultSet = preparedStatement.executeQuery()) {
            while (resultSet.next()) {
                Manager manager = createManagerFromResultSet(resultSet);
                managers.add(manager);
            }
        }
        
    } catch (SQLException e) {
        // ä½¿ç”¨æ—¥å¿—æ¡†æ¶æ›¿ä»£printStackTraceï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²
        logger.error("Failed to retrieve managers by level: {}", level, e);
        throw new DataAccessException("Unable to retrieve managers", e);
    }
    
    return managers;
}

// æå–æ–¹æ³•ï¼Œæé«˜ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§
private Manager createManagerFromResultSet(ResultSet resultSet) throws SQLException {
    Manager manager = new Manager();
    manager.setId(resultSet.getInt("id"));
    manager.setName(resultSet.getString("name"));
    manager.setSalary(resultSet.getDouble("salary"));
    manager.setLevel(resultSet.getInt("level"));
    manager.setDepartment(resultSet.getString("department"));
    return manager;
}
```

## ä¼˜åŒ–åŸå› è¯¦è§£ï¼š

### ğŸ”’ å®‰å…¨æ€§ä¼˜åŒ–

1. **é˜²æ­¢SQLæ³¨å…¥æ”»å‡»**
   - **åŸé—®é¢˜**ï¼šå­—ç¬¦ä¸²æ‹¼æ¥æ„å»ºSQL `"SELECT * FROM employee WHERE level = " + level`
   - **ä¼˜åŒ–**ï¼šä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ `preparedStatement.setInt(1, level)`
   - **åŸå› **ï¼šå‚æ•°åŒ–æŸ¥è¯¢å¯ä»¥é˜²æ­¢æ¶æ„è¾“å…¥è¢«å½“ä½œSQLä»£ç æ‰§è¡Œ

2. **è¾“å…¥éªŒè¯**
   - **æ–°å¢**ï¼šå‚æ•°èŒƒå›´æ ¡éªŒ
   - **åŸå› **ï¼šé˜²æ­¢æ— æ•ˆè¾“å…¥å¯¼è‡´çš„å¼‚å¸¸è¡Œä¸ºæˆ–èµ„æºæµªè´¹

3. **æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**
   - **åŸé—®é¢˜**ï¼š`e.printStackTrace()` å¯èƒ½æš´éœ²ç³»ç»Ÿä¿¡æ¯
   - **ä¼˜åŒ–**ï¼šä½¿ç”¨æ—¥å¿—æ¡†æ¶è®°å½•é”™è¯¯ï¼Œé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²

### âš¡ æ€§èƒ½ä¼˜åŒ–

1. **ç²¾ç¡®å­—æ®µæŸ¥è¯¢**
   - **åŸé—®é¢˜**ï¼šä½¿ç”¨ `SELECT *` æŸ¥è¯¢æ‰€æœ‰å­—æ®µ
   - **ä¼˜åŒ–**ï¼šåªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ `SELECT id, name, salary, level, department`
   - **åŸå› **ï¼šå‡å°‘ç½‘ç»œä¼ è¾“å’Œå†…å­˜ä½¿ç”¨ï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦

2. **ä»£ç ç»“æ„ä¼˜åŒ–**
   - **æ–°å¢**ï¼šæå– `createManagerFromResultSet` æ–¹æ³•
   - **åŸå› **ï¼šæé«˜ä»£ç å¤ç”¨æ€§ï¼Œä¾¿äºç»´æŠ¤å’Œæµ‹è¯•

### ğŸ“Š èµ„æºä½¿ç”¨æ•ˆç‡ä¼˜åŒ–

1. **è‡ªåŠ¨èµ„æºç®¡ç†**
   - **åŸé—®é¢˜**ï¼šæ‰‹åŠ¨ç®¡ç†æ•°æ®åº“è¿æ¥å’Œèµ„æº
   - **ä¼˜åŒ–**ï¼šä½¿ç”¨try-with-resourcesè¯­å¥
   - **åŸå› **ï¼šç¡®ä¿Connectionã€PreparedStatementã€ResultSetè‡ªåŠ¨å…³é—­ï¼Œé˜²æ­¢èµ„æºæ³„éœ²

2. **å¼‚å¸¸å¤„ç†æ”¹è¿›**
   - **åŸé—®é¢˜**ï¼šåªæ˜¯æ‰“å°å¼‚å¸¸ï¼Œæ²¡æœ‰é€‚å½“å¤„ç†
   - **ä¼˜åŒ–**ï¼šæŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ï¼Œä¾¿äºä¸Šå±‚è°ƒç”¨è€…å¤„ç†
   - **åŸå› **ï¼šæä¾›æ›´å¥½çš„é”™è¯¯å¤„ç†æœºåˆ¶å’Œè°ƒè¯•ä¿¡æ¯

### ğŸ“ˆ é¢å¤–å»ºè®®

å¦‚æœéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œè¿˜å¯ä»¥è€ƒè™‘ï¼š

1. **ç¼“å­˜ç­–ç•¥**ï¼šå¯¹é¢‘ç¹æŸ¥è¯¢çš„æ•°æ®è¿›è¡Œç¼“å­˜
2. **è¿æ¥æ± **ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± é¿å…é¢‘ç¹åˆ›å»ºè¿æ¥
3. **åˆ†é¡µæŸ¥è¯¢**ï¼šå¯¹å¤§é‡æ•°æ®è¿›è¡Œåˆ†é¡µå¤„ç†
4. **ç´¢å¼•ä¼˜åŒ–**ï¼šç¡®ä¿levelå­—æ®µæœ‰é€‚å½“çš„æ•°æ®åº“ç´¢å¼•

è¿™äº›ä¼˜åŒ–æ˜¾è‘—æå‡äº†ä»£ç çš„å®‰å…¨æ€§ã€æ€§èƒ½å’Œèµ„æºç®¡ç†æ•ˆç‡ã€‚